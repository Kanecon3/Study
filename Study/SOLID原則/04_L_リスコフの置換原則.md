# リスコフの置換原則

・サブクラスは、スーパークラスと置換可能でなければならない

リスコフの置換原則は「継承のガイドライン」と言われています。

## 原則違反

- サブクラスにしか存在しないメソッドがある

### 違反の問題点

- クライアントが、サブクラスの動作を知っていないと実装できなくなる
- 拡張に対して開かれていない

大概は、抽象化と共通化処理の考え方がごっちゃになっている。  
継承は共通化のためのものではない。

## 継承とは・・・

- is-aの関係を持たなければならない
- スーパークラスの機能が欲しいから継承するのではなく、スーパークラスの機能を置き換えるために継承を使う  
  （※継承は、スーパークラスの機能の一部を上書きするためにある）

うは、「抽象に対してコーディング／設計する」ということ。  
クライアント側は、サブクラスごとの動作に依存してはダメ。  

## 継承をするべきではないケースの場合に、どのように解決するべきか？

is-aの関係でなければならない。  
「AはBである」しかし「AはBに似ている」ではダメ。  
「似ているから共通化」はスパゲティコードの元凶になる。  

## 解決法

- 委譲
- 抜き出して共通化  
  →ただし、問題点として値とロジックがバラバラになってしまう（カプセル化のメリットを捨ててしまうことになる）

## ガイドラインとして

- ロジックが独立しているものはOKにする
- 値とロジックを切り出して最小カプセル化する

## まとめ

- 抽象に対してコーディングする
- サブクラスにしかないメソッドを作らない
