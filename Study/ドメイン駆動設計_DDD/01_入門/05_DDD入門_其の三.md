# 其の三

## 値オブジェクト／エンティティの判断基準

値オブジェクトで作るべきか、エンティティで作るべきか悩むこともあると思いますが、以下で作ってみましょう。  

- ライフサイクルを持たない: 値オブジェクト
- ライフサイクルを持つ: エンティティ

## ドメインオブジェクトを定義するメリット

ドメインオブジェクト（値オブジェクト、エンティティ）を定義するメリット は何でしょうか？

- コードのドキュメント性が高まる  
- ドメインの変更をコードに伝えやすくする  

### コードのドキュメント性が高まる

仕様書というのは残念ながらマクロな要件については有効であっても、ミクロな要件については無力であることが多いです。たちの悪いことに**ドキュメントはコードとは異なって、記載されている内容が誤っていてもソフトウェアが動作しなくなるような問題を起こさないからです**。  

ソフトウェアが満たす要件を知るのにドキュメントが役に立たないのであれば、開発者はコードに頼ることになります。ドメインモデルのルールがそのままドメインオブジェクトとして記述されればドキュメント性が高まらないでしょうか。  

### ドメインの変更をコードに伝えやすくする

長い運用の中でドメインは変化するものです。  
ソフトウェアはドメインに生きる利用者のために存在するものである以上、変化への対応が頻繁に求められます。**ソフトウェアが健全に成長していく未来を守るため、コードを饒舌にする努力は常に念頭に置くべき事項でしょう**。  

## 値オブジェクト／エンティティのまとめ

ドメインに対する鋭い洞察は実装時にも表れます。これは人が得意とする曖昧さをソフトウェアは受け入れないことに端を発します。  
もしも値オブジェクトやエンティティを実装しようとしてそこに曖昧さを感じたのであれば、ドメインの捉え方を見つめ直すきっかけです。  
