# 用語

## 目次

- [用語](#用語)
  - [目次](#目次)
  - [概要](#概要)
  - [ドメイン駆動設計の用語](#ドメイン駆動設計の用語)
    - [「ドメインモデル」](#ドメインモデル)
    - [「ドメインオブジェクト」](#ドメインオブジェクト)
  - [ドメイン駆動設計の用語ではないがよく使われる用語](#ドメイン駆動設計の用語ではないがよく使われる用語)
    - [「サービス」](#サービス)
    - [「プリミティブ」](#プリミティブ)
    - [「ミュータブル／イミュータブル」](#ミュータブルイミュータブル)

## 概要

ドメイン駆動設計でよく出てくる用語をまとめました。

## ドメイン駆動設計の用語

### 「ドメインモデル」

まず「モデル」とは、現実の事象あるいは概念を抽象化した概念です。現実をすべて忠実に再現しません。必要に応じて取捨選択を行います。何を取捨選択するかはドメインによります。  

たとえばペンはどのような性質を抽出すべきでしょうか。小説家にとってペンは道具で、文字が書けることが大事な性質です。一方、文房具店にとってペンは商品です。文字が書けることよりも、その値段などが重要視されます。**対象が同じものであっても何に重きを置くかは利用者によって異なるということです**。  

ドメインの概念を完全に表現しきることはとても難しいです。何かと制約の多いコードで表現するとなれば尚のことです。しかし、ソフトウェアがその責務を全うするために必要な情報に限定をすれば、コードで表現することも現実的になります。たとえば物流システムにおいて、トラックは「荷運びできる」ことを表現すればそれで十分です。「エンジンキーを回すとエンジンがかかる」といったことまで表現する必要はありません。  

こういった事象、あるいは概念を抽象化する作業が **「モデリング」** と呼ばれます。その結果として得られる結果が **「モデル」** です。ドメイン駆動設計では、ドメインの概念をモデリングして得られたモデルを **「ドメインモデル」** と呼びます。

- モデル: 現実の事象や概念を表現したもの
- ドメインモデル: ドメインの概念を表現したもの

### 「ドメインオブジェクト」

ドメインモデルはあくまでも概念を抽象化した知識にとどまります。ドメインモデルをソフトウェアで動作するモジュールとして表現したものが **「ドメインオブジェクト」** です。  
人の営みは、ときの流れと共に変化します。ドメインオブジェクトがドメインモデルを忠実に表現していれば、ドメインの変化をコードに伝えることはたやすいはずです。  

ドメインで起こった変化はまずドメインモデルに伝えられます。  

ドメインの概念の射影であるドメインモデルは、変化を忠実に受け止めます。ドメインオブジェクトはドメインモデルの実装表現ですから、変化したドメインモデルと変化していないドメインオブジェクトの両者を見比べてみれば、自ずと修正点は浮き彫りになるでしょう。ドメインの変化はドメインモデルを媒介にして連鎖的にドメインオブジェクトまで伝えられるのです。  

## ドメイン駆動設計の用語ではないがよく使われる用語

### 「サービス」

ソフトウェア開発の文脈で語られる「サービス」は、クライアントのために何かを行うオブジェクトです。  

なお、ドメイン駆動設計におけるサービスは大きく分けて2つあります。  

- ドメインサービス
- アプリケーションサービス

### 「プリミティブ」

プログラミングの分野では、プログラミング言語の仕様としてあらかじめ用意されている最も基本的なデータ型のことを「プリミティブ型」と言います。 言語によって用意されているプリミティブの種類は異なるが、文字型や整数型、浮動小数点数型、ブーリアン型などが用意されていることが多いです。  

### 「ミュータブル／イミュータブル」

- ミュータブル (mutable)　可変  
- イミュータブル (Immutable)　不変  

イミュータブルとは、値が変わらないということ。「全てのプロパティ（値）が読み取り専用」ということです。  
コンストラクタもしくは初期値でのみプロパティの値をセットできるようにするのが一般的です。  
